@startuml
title Try-On Chọn item/biến thể
actor User
boundary WebApp
control Backend
database DB

User -> WebApp: Chọn sản phẩm, biến thể, size
WebApp -> Backend: POST /api/tryon/select
Backend -> DB: Kiểm tra tồn kho/hợp lệ
alt Hợp lệ
  DB --> Backend: Chi tiết sản phẩm
  Backend -> Backend: Ánh xạ size theo brand
  Backend --> WebApp: 200 {config lựa chọn}
  WebApp --> User: Đã cấu hình Try-On
else Xung đột tồn kho/hết hàng
  Backend --> WebApp: 409 Conflict
  WebApp --> User: Chọn biến thể khác
end
@enduml

