@startuml
title Gợi ý trang phục (Rec Feed)
actor User
boundary WebApp
control Backend
collections Cache
database DB

WebApp -> Backend: GET /api/feed
Backend -> Cache: Tra cache
alt Cache hit
  Cache --> Backend: Payload
  Backend --> WebApp: 200 {feed}
else Cache miss
  Backend -> DB: Tải/enrich sản phẩm
  DB --> Backend: Dữ liệu gốc
  Backend -> Backend: Chọn theo IDs / fallback semantic
  Backend -> Cache: Set cache
  Backend --> WebApp: 200 {feed}
end
WebApp --> User: Hiển thị gợi ý
@enduml

