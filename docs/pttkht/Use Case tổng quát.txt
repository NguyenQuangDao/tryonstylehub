flowchart LR
    actorUser([Khách hàng])
    actorSeller([Người bán])
    actorAdmin([Quản trị viên])

    subgraph System[Hệ thống TryOnStyleHub]
        UC_Browse([Duyệt & Tìm kiếm sản phẩm])
        UC_TryOn([Thử đồ ảo / Try-On])
        UC_Upload([Tải ảnh/Body scan])
        UC_Recommend([Gợi ý trang phục])
        UC_Wishlist([Yêu thích & Theo dõi])
        UC_Checkout([Thanh toán & Đặt hàng])
        UC_Track([Theo dõi đơn hàng])
        UC_Review([Đánh giá & Bình luận])
        UC_Account([Quản lý tài khoản])
        UC_Auth([Đăng nhập/Đăng ký/OAuth])

        UC_AdminProduct([Quản lý sản phẩm])
        UC_AdminOrder([Quản lý đơn hàng])
        UC_AdminUser([Quản lý người dùng & phân quyền])
        UC_ContentMod([Kiểm duyệt nội dung])
        UC_Reports([Báo cáo & Phân tích])
    end

    subgraph External[Hệ thống bên ngoài]
        actorAI([Dịch vụ AI Try-On])
        actorAuth([Nhà cung cấp đăng nhập])
        actorPayment([Cổng thanh toán])
        actorStore([Kho/Inventory])
        actorCDN([Lưu trữ hình ảnh])
        actorAnalytics([Phân tích/Tracking])
    end

    actorUser --> UC_Browse
    actorUser --> UC_TryOn
    actorUser --> UC_Upload
    actorUser --> UC_Recommend
    actorUser --> UC_Wishlist
    actorUser --> UC_Checkout
    actorUser --> UC_Track
    actorUser --> UC_Review
    actorUser --> UC_Account
    actorUser --> UC_Auth

    actorSeller --> UC_AdminProduct
    actorSeller --> UC_AdminOrder
    actorSeller --> UC_Reports

    actorAdmin --> UC_AdminProduct
    actorAdmin --> UC_AdminOrder
    actorAdmin --> UC_AdminUser
    actorAdmin --> UC_ContentMod
    actorAdmin --> UC_Reports

    UC_TryOn -.-> actorAI
    UC_Recommend -.-> actorAI
    UC_Auth -.-> actorAuth
    UC_Checkout -.-> actorPayment
    UC_AdminProduct -.-> actorStore
    UC_AdminOrder -.-> actorStore
    UC_Upload -.-> actorCDN
    UC_TryOn -.-> actorCDN
    UC_Reports -.-> actorAnalytics
